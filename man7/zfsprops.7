.\"
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or https://opensource.org/licenses/CDDL-1.0.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.\"
.\" Copyright (c) 2009 Sun Microsystems, Inc. All Rights Reserved.
.\" Copyright 2011 Joshua M. Clulow <josh@sysmgr.org>
.\" Copyright (c) 2011, 2019 by Delphix. All rights reserved.
.\" Copyright (c) 2011, Pawel Jakub Dawidek <pjd@FreeBSD.org>
.\" Copyright (c) 2012, Glen Barber <gjb@FreeBSD.org>
.\" Copyright (c) 2012, Bryan Drewery <bdrewery@FreeBSD.org>
.\" Copyright (c) 2013, Steven Hartland <smh@FreeBSD.org>
.\" Copyright (c) 2013 by Saso Kiselkov. All rights reserved.
.\" Copyright (c) 2014, Joyent, Inc. All rights reserved.
.\" Copyright (c) 2014 by Adam Stevko. All rights reserved.
.\" Copyright (c) 2014 Integros [integros.com]
.\" Copyright (c) 2016 Nexenta Systems, Inc. All Rights Reserved.
.\" Copyright (c) 2014, Xin LI <delphij@FreeBSD.org>
.\" Copyright (c) 2014-2015, The FreeBSD Foundation, All Rights Reserved.
.\" Copyright 2019 Richard Laager. All rights reserved.
.\" Copyright 2018 Nexenta Systems, Inc.
.\" Copyright 2019 Joyent, Inc.
.\" Copyright (c) 2019, Kjeld Schouten-Lebbing
.\" Copyright (c) 2022 Hewlett Packard Enterprise Development LP.
.\"
.Dd August 8, 2023
.Dt ZFSPROPS 7
.Os
.
.Sh ИМЯ
.Nm zfsprops
.Nd собственные и определяемые пользователем свойства наборов данных ZFS
.
.Sh ОПИСАНИЕ
Свойства делятся на два типа: собственные и определяемые пользователем.
.Po или
.Qq пользователя
.Pc
свойства.
Собственные свойства либо экспортируют внутреннюю статистику, либо управляют поведением ZFS.
Кроме того, родные свойства могут быть как редактируемыми, так и доступными только для чтения.
Пользовательские свойства не влияют на поведение ZFS, но вы можете использовать их для аннотирования
наборов данных таким образом, который будет полезен в вашей среде.
Для получения дополнительной информации о пользовательских свойствах см.
.Sx Пользовательские свойства 
ниже.
.
.Ss Нативные свойства 
Каждый набор данных имеет набор свойств, которые экспортируют статистику о наборе данных,
а также управляют различным поведением.
Свойства наследуются от родительского набора, если они не переопределены дочерним набором.
Некоторые свойства применяются только к определенным типам наборов данных
.Pq файловые системы, тома или моментальные снимки .
.Pp
Значения числовых свойств могут быть указаны с помощью человекочитаемых суффиксов
.Po, например,
.Sy k ,
.Sy KB ,
.Sy M ,
.Sy Gb ,
и так далее, вплоть до
.Sy Z
для зеттабайта
.Pc .
Следующие варианты являются допустимыми
.Pq и аналогичные
спецификации:
.Li 1536M ,
.Li 1.5g ,
.Li 1.50GB .
.Pp
Значения нечисловых свойств чувствительны к регистру и должны быть в нижнем регистре,
за исключением
.Sy точка монтирования ,
.Sy sharenfs ,
и
.Sy sharesmb .
.Pp
Следующие собственные свойства содержат статистику о
наборе данных, доступную только для чтения.
Эти свойства не могут быть ни установлены, ни унаследованы.
Собственные свойства применяются ко всем типам наборов данных, если не указано иное
.Bl -tag -width "usedbyrefreservation"
.It Sy available
Объем пространства, доступный для набора данных и всех его дочерних элементов, при условии,
что 
в пуле нет другой активности.
Поскольку пространство в пуле используется совместно, доступность может быть ограничена любым количеством
факторов, включая физический размер пула, квоты, резервирование или другие
наборы данных в пуле.
.Pp
На это свойство также можно ссылаться по сокращенному названию столбца,
.Sy avail .
.It Sy compressratio
Для не-снимков коэффициент сжатия, достигаемый для параметра
.Sy used
пространства этого набора данных, выраженный в виде множителя.
.Sy used
включает наборы данных-потомков, а для клонов не включает
пространство, совместно используемое с исходным моментальным снимком.
Для моментальных снимков свойство
.Sy compressratio
такое же, как
.Sy refcompressratio
Сжатие можно включить, выполнив команду:
.Nm zfs Cm set Sy compression Ns = Ns Sy на наборе данных Ar .
По умолчанию используется значение
.Sy off .
.It Sy createtxg
Группа транзакций (txg), в которой был создан набор данных.
Закладки имеют одинаковые значения
.Sy createtxg
что и снимок, к которому они изначально привязаны.
Это свойство подходит для упорядочивания списка моментальных снимков,
например, для инкрементной отправки и получения.
.It Sy creation
Время создания этого набора данных.
.It Sy клоны 
Для моментальных снимков это свойство представляет собой список файловых систем или томов, разделенных запятыми.
которые являются клонами этого моментального снимка.
Клоны
.Sy origin
является этот снимок.
Если
.Sy clones
не пусто, то этот снимок не может быть уничтожен.
.Po даже при
.Fl r
или
.Fl f
варианты
.Pc .
Роли оригинала и клона можно поменять местами, продвинув клон с помощью команды
.Nm zfs Cm promote
.It Sy defer_destroy
Это свойство
.Sy on
если снимок был помечен для отложенного уничтожения с помощью команды
.Nm zfs Cm destroy Fl d
В противном случае это свойство
.Sy off .
.It Sy encryptionroot
Для зашифрованных наборов данных указывает, откуда набор данных в настоящее время наследует свой
ключ шифрования.
Загрузка или выгрузка ключа для
.Sy encryptionroot
неявно загрузит / выгрузит ключ для всех наследующих наборов данных (см.
.Nm zfs Cm load-key
и
.Nm zfs Cm unload-key
для подробностей).
Клоны всегда будут совместно использовать
ключ шифрования со своим источником.
См.
Шифрование .Sx
раздел
.Xr zfs-load-key 8
для получения подробной информации.
.It Sy filesystem_count
Общее количество файловых систем и томов, существующих под этим расположением в
дереве наборов данных.
Это значение доступно только в том случае, если
.Sy filesystem_limit
было установлено где-то в дереве, в котором находится набор данных.
.It Sy keystatus
Указывает, загружен ли в данный момент ключ шифрования в ZFS.
Возможны следующие значения
.Sy none ,
.Sy available ,
и
.Sy unavailable .
См.
.Nm zfs Cm load-key
и
.Nm zfs Cm unload-key .
.It Sy guid
64-битный GUID этого набора данных или закладки, который не изменяется в течение
всего срока службы.
Когда снимок отправляется в другой пул, полученный снимок имеет тот же
GUID.
Таким образом
идентификатор .Sy
подходит для идентификации моментального снимка в разных пулах.
.It Sy logicalreferenced
Объем пространства, которое
.Qq логически
доступные в этом наборе данных.
См.
.Sy referenced
свойство.
Логическое пространство игнорирует эффект
.Sy compression 
и
.Sy copies
что позволяет получить количество, более близкое к объему данных, которые видят приложения.
Однако в него входит пространство, занимаемое метаданными.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy lrefer .
.It Sy logicalused
Объем пространства, которое
.Sy lused .
.It Sy mounted
Для файловых систем указывает, смонтирована ли файловая система в данный момент.
Это свойство может быть либо
.Sy да
либо
.Sy no .
.It Sy objsetid
Уникальный идентификатор данного набора данных в пуле.
В отличие от идентификатора набора данных
.Sy guid , нет, Sy objsetid
набора данных не передается в другие пулы при копировании снимка
с помощью операции отправки/получения.
Адрес
.Sy objsetid
может быть повторно использован (для нового набора данных) после удаления набора данных.
.It Sy origin
Для клонированных файловых систем или томов - снимок, из которого был создан клон.
создан.
См. также
.Sy clones
.It Sy receive_resume_token
Для файловых систем или томов, которые сохранили частично завершенное состояние из
.Nm zfs Cm receive Fl s ,
этот непрозрачный токен может быть предоставлен
.Nm zfs Cm send Fl t
для возобновления и завершения
.Nm zfs Cm receive .
.It Sy redact_snaps
Для закладок это список гидов моментальных снимков, которые содержит закладка
редактирование
список.
Для моментальных снимков это список руководств по созданию моментальных снимков, в
отношении которых выполняется редактирование моментального снимка.
.It Sy referenced
Объем данных, доступных этому набору данных, который может быть или не быть общим с другими наборами данных в пуле.
Когда создается снимок или клон, он первоначально ссылается на тот же объем
пространства, что и файловая система или снимок, из которого он был создан, поскольку его содержимое
идентично.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy refer .
.It Sy refcompressratio
Степень сжатия, достигнутая для свойства
.Sy referenced
пространства этого набора данных, выраженный в виде множителя.
См. также
.Sy compressratio
.It Sy snapshot_count
Общее количество моментальных снимков, существующих под этим местом в дереве набора данных
дереве.
Это значение доступно только при наличии свойства
.Sy snapshot_limit
было установлено где-то в дереве, в котором находится набор данных.
Тип .It Sy
Тип набора данных:
.Sy файловая система ,
.Sy том ,
.Sy snapshot ,
или
.Sy закладка .
.It Sy used
Объем пространства, занимаемый этим набором данных и всеми его потомками.
Это значение сверяется с квотой и резервированием данного набора данных.
Используемое пространство не включает резервирование этого набора данных, но учитывает
резервирование всех последующих наборов данных.
Объем пространства, который набор данных потребляет от своего родителя, а также
объем пространства, который освобождается при рекурсивном уничтожении этого набора данных, равен
больше используемого и резервируемого пространства.
.Pp
Используемое пространство моментального снимка
.Po см.
.Sx Снимки 
раздел
.Xr zfsconcepts 7
.Pc
это пространство, на которое ссылается только этот снимок.
Если этот снимок уничтожен, объем
.Sy использованного
пространства будет очищено.
Пространство, совместно используемое несколькими моментальными снимками, не учитывается в этой метрике.
При уничтожении моментального снимка пространство, которое ранее было общим для этого снимка, может стать уникальным для соседних с ним моментальных снимков, что изменит используемое
пространство этих снимков.
На используемое пространство последнего моментального снимка также могут повлиять изменения в
файловой системе.
Обратите внимание, что файл
.Sy используемое
пространства моментального снимка является подмножеством
.Sy записанного
пространства моментального снимка.
.Pp
Объем используемого, доступного или указанного пространства не учитывает
ожидающие изменения.
Ожидающие изменения обычно учитываются в течение нескольких секунд.
Запись изменений на диск с помощью
.Xr fsync 2
или
.Sy O_SYNC
не всегда гарантирует, что информация об использовании пространства будет обновлена
немедленно.
.It Sy usedby*
Адрес
.Sy usedby*
свойства разлагают
.Sy used
на различные причины использования пространства.
В частности,
.Sy used No =
.Sy usedbychildren No +
.Sy usedbydataset No +
.Sy usedbyrefreservation No +
.Sy usedbysnapshots .
Эти свойства доступны только для наборов данных, созданных на
.Nm zpool
.Qo версия 13 Qc
пулы.
.It Sy usedbychildren
Объем пространства, используемый дочерними элементами этого набора данных, который будет освобожден, если
все дочерние наборы данных были бы уничтожены.
.It Sy usedbydataset
Объем пространства, используемый самим этим набором данных, который будет освобожден, если
если бы набор данных был уничтожен
.Po после предварительного удаления любых
.Sy refreservation
и уничтожения всех необходимых моментальных снимков или потомков
.Pc .
.It Sy usedbyrefreservation
Объем пространства, используемый
.Sy сохранением
установленным на этом наборе данных, который будет освобожден, если
.Sy резервирование 
будет удалено.
.It Sy usedbysnapshots
Объем пространства, занимаемый моментальными снимками этого набора данных.
В частности, это объем пространства, который будет освобожден, если все снимки этого
наборов данных были бы уничтожены.
Обратите внимание, что это не просто сумма значений снимков
.Sy used
поскольку пространство может быть разделено между несколькими снимками.
.It Sy userused Ns @ Ns Ar user
Объем пространства, потребленного указанным пользователем в этом наборе данных.
Пространство оплачивается владельцем каждого файла, как показано на странице
.Nm ls Fl l .
Количество занятого пространства отображается
.Nm du No и Nm ls Fl s .
См.
.Nm zfs Cm userspace
для получения дополнительной информации.
.Pp
Непривилегированные пользователи могут получить доступ только к своему собственному пространству.
Пользователь root или пользователь, которому предоставлены права
.Sy userused
привилегией
.Nm zfs Cm allow ,
может получить доступ к использованию всех.
.Pp
Сайт
.Sy userused Ns @ Ns Ar ...
не отображаются
.Nm zfs Cm get Sy all .
Имя пользователя должно быть добавлено после символа
.Sy @
символ, используя одну из следующих форм:
.Bl - пуля - компактный - смещение 4n
.It
POSIX-имя
.Pq Qq joe
.It
Цифровой идентификатор POSIX
.Pq Qq 789
.It
имя SID
.Pq Qq joe.smith@mydomain
.It
Цифровой идентификатор SID
.Pq Qq S-1-123-456-789
.El
.Pp
Файлы, созданные в Linux, всегда имеют владельцев POSIX.
.It Sy userobjused Ns @ Ns Ar user
Сайт
.Sy userobjused
аналогично свойству
.Sy userused
но вместо этого оно подсчитывает количество объектов, потребляемых пользователем.
Это свойство подсчитывает все объекты, выделенные от имени пользователя,
это может отличаться от результатов системных инструментов, таких как
.Nm df Fl i .
.Pp
Когда свойство
.Sy xattr Ns = Ns Sy on
в файловой системе будут созданы дополнительные объекты на файл для хранения
расширенных атрибутов.
Эти дополнительные объекты отражаются в файле
.Sy userobjused
и учитываются в пользовательской квоте
.Sy userobjquota .
Когда файловая система настроена на использование
.Sy xattr Ns = Ns Sy sa
никаких дополнительных внутренних объектов обычно не требуется.
.It Sy userrefs
Это свойство задает количество пользовательских удержаний на данном снимке.
Пользовательские удержания устанавливаются с помощью функции
.Nm zfs Cm hold
команды.
.It Sy groupused Ns @ Ns Ar group
Объем пространства, занимаемый указанной группой в этом наборе данных.
Пространство распределяется по группам каждого файла, как показано на рисунке
.Nm ls Fl l .
См.
.Sy userused Ns @ Ns Ar user
для получения дополнительной информации.
.Pp
Непривилегированные пользователи могут получить доступ к использованию пространства только в своих группах.
Пользователь root или пользователь, которому предоставлено право
.Sy groupused
с привилегией
.Nm zfs Cm allow
может получить доступ к использованию всех групп.
.It Sy groupobjused Ns @ Ns Ar group
Количество объектов, использованных указанной группой в данном наборе данных.
При использовании расширенных атрибутов в группу может быть добавлено несколько объектов 
для каждого файла.
См.
.Sy userobjused Ns @ Ns Ar user
для получения дополнительной информации.
.Pp
Непривилегированные пользователи могут получить доступ к использованию пространства только для своих групп.
Пользователь root или пользователь, которому предоставлено право
.Sy groupobjused
с помощью
.Nm zfs Cm allow ,
может получить доступ к использованию пространства всех групп.
.It Sy projectused Ns @ Ns Ar project
Объем пространства, занимаемый указанным проектом в данном наборе данных.
Проект идентифицируется с помощью идентификатора проекта (ID), который является объектно-ориентированным
числовой атрибут.
Объект может унаследовать идентификатор проекта от своего родительского объекта (если у родителя установлен флаг
у родителя установлен флаг наследования ID проекта, который можно установить и изменить с помощью команды
.Nm chattr Fl /+P
или
.Nm zfs project Fl s )
при создании.
Привилегированный пользователь может устанавливать и изменять идентификатор проекта объекта
идентификатор через
.Nm chattr Fl p
или
.Nm zfs project Fl s
в любое время.
Место для каждого файла распределяется по проекту, как показано на экране
.Nm lsattr Fl p
или
.Nm zfs project .
См.
.Sy userused Ns @ Ns Ar user
для получения дополнительной информации.
.Pp
Пользователь root или пользователь, которому предоставлены права
.Sy projectused
привилегией
.Nm zfs allow ,
может получить доступ к использованию всех проектов.
.It Sy projectobjused Ns @ Ns Ar project
Проект
.Sy projectobjused
аналогичен
.Sy projectused
но вместо этого подсчитывает количество объектов, потребляемых проектом.
Когда проект
.Sy xattr Ns = Ns Sy on
установлен для набора файлов, ZFS будет создавать дополнительные объекты для каждого файла для хранения
расширенных атрибутов.
Эти дополнительные объекты отражаются в файле
.Sy projectobjused
и учитываются при подсчете квоты проекта
.Sy projectobjquota .
Когда файловая система настроена на использование
.Sy xattr Ns = Ns Sy sa
никаких дополнительных внутренних объектов не требуется.
См.
Свойство .Sy userobjused Ns @ Ns Ar user
для получения дополнительной информации.
.Pp
Пользователь root или пользователь, которому предоставлены права
.Sy projectobjused
привилегией
.Nm zfs allow ,
может получить доступ к использованию всех объектов проектов.
.It Sy snapshots_changed
Предоставляет механизм для быстрого определения того, изменился ли список моментальных снимков.
без необходимости монтирования набора данных или итерации списка снапшотов.
Указывает время, когда моментальный снимок для набора данных был в последний раз
создан или удален.
.Pp
Это позволяет нам более эффективно использовать частоту запросов к моментальным снимкам.
Свойство сохраняется во время операций монтирования и размонтирования только в том случае, если параметр
.Sy extensible_dataset
включено.
.It Sy volblocksize
Для томов указывает размер блока тома.
Значение
.Sy размер блока 
невозможно изменить после записи тома, поэтому его следует установить во
время создания тома.
По умолчанию
.Sy размер блока
для томов составляет 16 Кбайт.
Допускается любое значение, равное 2, от 512 байт до 128 Кбайт.
.Pp
На это свойство можно также ссылаться по сокращенному имени столбца,
.Sy volblock .
.It Sy written
Объем пространства
.Sy, на который ссылается
на этот набор данных, который был записан с момента предыдущего моментального снимка.
.Pq т.е. на который не ссылается предыдущий снимок.
.It Sy записано Ns @ Ns Ar snapshot
Количество
.Sy ссылочного
записанного в этот набор данных с указанного моментального снимка.
Это пространство, на которое ссылается данный набор данных, но на которое не ссылался
указанный моментальный снимок.
.Pp
.Ar снимок 
может быть указан как короткое имя моментального снимка
.Pq только часть после символа Sy @ ,
в этом случае он будет интерпретироваться как снимок в той же файловой системе, что и
данный набор данных.
Снапшот
.Ar снимок 
может быть полным именем моментального снимка
.Pq Ar filesystem Ns @ Ns Ar snapshot ,
который для клонов может быть снимком в исходной файловой системе
.Pq или в файловой системе происхождения и т. д.
.El
.Pp
Следующие собственные свойства можно использовать для изменения поведения набора данных ZFS
набора данных.
.Bl -tag -width ""
.It Xo
.Sy aclinherit Ns = Ns Sy discard Ns | Ns Sy noallow Ns | Ns
.Sy restricted Ns | Ns Sy passthrough Ns | Ns Sy passthrough-x
.Xc
Управляет тем, как ACE наследуются при создании файлов и каталогов.
.Bl -tag -compact -offset 4n -width "passthrough-x"
.It Sy discard
не наследует никаких ACE.
.It Sy noallow
наследует только наследуемые ACE, в которых указано
.Qq deny
разрешения.
.It Sy restricted
по умолчанию, удаляет
.Sy write_acl
и
.Sy write_owner
разрешения, когда ACE наследуется.
.It Sy passthrough
наследует все наследуемые ACE без каких-либо изменений.
.It Sy passthrough-x
то же значение, что и
.Sy passthrough ,
за исключением того, что
.Sy owner@ , group@ , No и Sy everyone@
ACE наследуют разрешение execute только в том случае, если режим создания файла также запрашивает
бит execute.
.El
.Pp
Когда значение свойства установлено в
.Sy passthrough ,
файлы создаются с режимом, определяемым наследуемыми ACE.
Если не существует наследуемых ACE, влияющих на режим, то режим устанавливается в соответствии с режимом, запрошенным приложением.
.Pp
Адрес
.Sy aclinherit
не применяется к POSIX ACL.
.It Xo
.Sy aclmode Ns = Ns Sy discard Ns | Ns Sy groupmask Ns | Ns
.Sy passthrough Ns | Ns Sy restricted Ns
.Xc
Управляет тем, как ACL изменяется во время chmod(2) и как наследуемые ACE
изменяются в режиме создания файла:
.Bl -tag -compact -offset 4n -width "passthrough"
.It Sy discard
по умолчанию, удаляет все
.Sy ACE'ксы
кроме тех, которые представляют
режим файла или каталога, запрошенный командой
.Xr chmod 2 .
.It Sy groupmask
уменьшает количество разрешений, предоставляемых во всех
.Sy ALLOW
найденных в
.Sy ACL
так, чтобы они не превышали групповых разрешений, указанных в
.Xr chmod 2 .
.It Sy passthrough
указывает на то, что в ACL не вносится никаких изменений, кроме создания или обновления
необходимых записей ACL для представления нового режима файла или каталога.
.It Sy restricted
приведет к тому, что
.Xr chmod 2
вернет ошибку при использовании для любого файла или каталога, имеющего
нетривиальный ACL, записи которого не могут быть представлены режимом.
.Xr chmod 2
требуется для изменения установленного идентификатора пользователя, установленного идентификатора группы или липких битов в файле
или каталоге, поскольку они не имеют эквивалентных ACL e
Для того чтобы использовать
.Xr chmod 2
для файла или каталога с нетривиальным ACL, когда
.Sy aclmode
установлен в
.Sy restricted ,
вы должны сначала удалить все записи ACL, которые не представляют текущий режим.
.El
.It Sy acltype Ns = Ns Sy off Ns | Ns Sy nfsv4 Ns | Ns Sy posix
Управляет тем, включены ли ACL, и если да, то какой тип ACL использовать.
Если для этого свойства установлен тип ACL, не поддерживаемый текущей
платформой, поведение будет таким же, как если бы было установлено значение
.Sy off .
.Bl -tag -compact -offset 4n -width "posixacl"
.It Sy off
по умолчанию в Linux, когда файловая система имеет тип
.Sy acltype
установлено значение off, то ACL отключены.
.It Sy noacl
псевдоним для
.Sy off
.It Sy nfsv4
по умолчанию
.Fx ,
указывает, что должны использоваться ACL ZFS в стиле NFSv4.
Этими ACL можно управлять с помощью команды
.Xr getfacl 1
и
.Xr setfacl 1 .
Адрес
.Sy nfsv4
тип ZFS ACL пока не поддерживается в Linux.
.It Sy posix
указывает на необходимость использования POSIX ACL.
POSIX ACL специфичны для Linux и не работают на других платформах.
POSIX ACL хранятся как расширенный
атрибута и поэтому не перезаписывают существующие NFSv4 ACL, которые
которые могут быть установлены.
.It Sy posixacl
псевдоним для
.Sy posix
.El
.Pp
Для достижения наилучшей производительности при настройке
.Sy posix
пользователям настоятельно рекомендуется установить параметр
.Sy xattr Ns = Ns Sy sa
свойство.
Это приведет к тому, что POSIX ACL будет храниться на диске более эффективно.
Но, как следствие, все новые расширенные атрибуты будут
доступны только в реализации OpenZFS, которая поддерживает
.Sy xattr Ns = Ns Sy sa
свойство.
См.
.Sy xattr
для получения более подробной информации.
.It Sy atime Ns = Ns Sy on Ns | Ns Sy off
Управляет тем, обновляется ли время доступа к файлам при их чтении.
Отключение этого свойства позволяет избежать создания трафика записи при чтении файлов и
может привести к значительному увеличению производительности, хотя это может запутать почтовые программы
и другие подобные утилиты.
Значения
.Sy on
и
.Sy off
эквивалентны значениям
.Sy atime
и
.Sy noatime
параметрам монтирования.
По умолчанию используется значение
.Sy on .
См. также
.Sy relatime
ниже.
.It Sy canmount Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy noauto
Если для этого свойства установлено значение
.Sy off ,
файловая система не может быть смонтирована и игнорируется командой
.Nm zfs Cm mount Fl a .
Установка этого свойства в значение
.Sy off
аналогично установке
.Sy mountpoint
свойству
.Sy none ,
за исключением того, что набор данных по-прежнему имеет обычную
.Sy mountpoint
которое может быть унаследовано.
Установка этого свойства в значение
.Sy off
позволяет использовать наборы данных исключительно в качестве механизма наследования свойств.
Один из примеров установки
.Sy canmount Ns = Ns Sy off
является наличие двух наборов данных с одинаковыми
.Sy mountpoint ,
так что дочерние наборы данных будут находиться в одном каталоге, но могут
иметь разные наследуемые характеристики.
.Pp
Если установлено значение
.Sy noauto ,
набор данных можно монтировать и размонтировать только явным образом.
Набор данных не монтируется автоматически при его создании или
импортировании, а также не монтируется командой
.Nm zfs Cm mount Fl a
или размонтирован командой
.Nm zfs Cm unmount Fl a
.Pp
Это свойство не наследуется.
.It Xo
.Sy контрольная сумма Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy fletcher2 Ns | Ns
.Sy fletcher4 Ns | Ns Sy sha256 Ns | Ns Sy noparity Ns | Ns
.Sy sha512 Ns | Ns Sy skein Ns | Ns Sy edonr Ns | Ns Sy blake3
.Xc
Управляет контрольной суммой, используемой для проверки целостности данных.
По умолчанию используется значение
.Sy on ,
который автоматически выбирает соответствующий алгоритм.
.Po в настоящее время,
.Sy fletcher4 ,
но это может измениться в будущих версиях.
.Pc .
Значение
.Sy off
отключает проверку целостности пользовательских данных.
Значение
.Sy noparity
не только отключает проверку целостности, но и запрещает поддерживать четность для пользовательских данных.
Эта настройка используется внутри устройства дампа, расположенного в пуле RAID-Z, и
и не должна использоваться никакими другими наборами данных.
Отключение контрольных сумм - это
.Em НЕ
рекомендуется.
.Pp
.Sy sha512 ,
.Sy skein ,
.Sy edonr ,
и
.Sy blake3
Алгоритмы контрольных сумм требуют включения соответствующих функций в пуле.
.Pp
См.
.Xr zpool-features 7
для получения дополнительной информации об этих алгоритмах.
.Pp
Изменение этого свойства влияет только на вновь записанные данные.
.It Xo
.Sy сжатие Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy gzip Ns | Ns
.Sy gzip- Ns Ar N Ns | Ns Sy lz4 Ns | Ns Sy lzjb Ns | Ns Sy zle Ns | Ns Sy zstd Ns | Ns
.Sy zstd- Ns Ar N Ns | Ns Sy zstd-fast Ns | Ns Sy zstd-fast- Ns Ar N
.Xc
Управляет алгоритмом сжатия, используемым для данного набора данных.
.Pp
Если установлено значение
.Sy on
(по умолчанию), указывает, что должен использоваться текущий алгоритм сжатия по умолчанию.
По умолчанию сбалансирована скорость сжатия и распаковки, а также степень сжатия
и, как ожидается, оно будет хорошо работать при самых разных рабочих нагрузках.
В отличие от всех других настроек этого свойства,
.Sy on
не выбирает фиксированный тип сжатия.
По мере добавления новых алгоритмов сжатия в ZFS и включения их в пуле, алгоритм сжатия по умолчанию может измениться.
алгоритм сжатия по умолчанию может измениться.
В настоящее время по умолчанию используется либо алгоритм сжатия
.Sy lzjb
либо, если в пуле включен
.Sy lz4_compress
включена функция,
.Sy lz4 .
.Pp
.Sy lz4
является высокопроизводительной заменой алгоритма сжатия
.Sy lzjb
алгоритма.
Он отличается значительно более быстрой компрессией и декомпрессией, а также
несколько более высокой степенью сжатия, чем
.Sy lzjb ,
но может использоваться только на пулах с параметром
.Sy lz4_compress
установленным на
.Sy включен.
См.
.Xr zpool-features 7
подробную информацию о флагах функций ZFS и параметре
.Sy lz4_compress
функция.
.Pp
.Sy lzjb
Алгоритм сжатия оптимизирован для повышения производительности и обеспечивает достойное сжатие данных.
.Pp
.Sy gzip
использует тот же алгоритм сжатия, что и
.Xr gzip 1
Вы можете указать
.Sy gzip
уровень, используя значение
.Sy gzip- Ns Ar N ,
где
.Ar N
целое число от 1
.Pq самый быстрый
до 9
.Pq - наилучший коэффициент сжатия.
В настоящее время,
.Sy gzip
эквивалентен
.Sy gzip-6
.Po, который также используется по умолчанию для
.Xr gzip 1
.Pc .
.Pp
.Sy zstd
Алгоритм сжатия обеспечивает высокую степень сжатия и хорошую производительность.
Вы можете указать
.Sy zstd
с помощью значения
.Sy zstd- Ns Ar N ,
где
.Ar N
целое число от 1
.Pq самое быстрое
до 19
.Pq лучший коэффициент сжатия .
.Sy zstd
эквивалентен
.Sy zstd-3 .
.Pp
Более высокую скорость за счет снижения степени сжатия можно получить, задав отрицательное значение
.Sy zstd
Для этого используется
.Sy zstd-fast- Ns Ar N ,
где
.Ar N
целое число в
.Bq Sy 1 Ns - Ns Sy 10 , 20 , 30 , Нет ... , Sy 100 , 500 , 1000
что соответствует отрицательному значению
.Sy zstd
Чем ниже уровень, тем быстрее происходит сжатие \(em
.Sy 1000
обеспечивает самое быстрое сжатие и самый низкий коэффициент сжатия.
.Sy zstd-fast
эквивалентен
.Sy zstd-fast- Ns Ar 1 .
.Pp
.Sy zle
алгоритм сжатия сжимает последовательности нулей.
.Pp
На это свойство можно также ссылаться по сокращенному имени столбца
.Sy compress .
Изменение этого свойства влияет только на вновь записанные данные.
.Pp
Когда любая настройка, кроме
.Sy off
выбрана, сжатие будет специально проверять блоки, состоящие только из
нулей (байт NUL).
При обнаружении блока, заполненного нулями, он сохраняется как
дыра и не сжимается с помощью указанного алгоритма сжатия.
.Pp
Любой сжимаемый блок должен быть не более 7/8 от своего исходного размера
после сжатия, иначе сжатие не будет считаться целесообразным
и блок будет сохранен в несжатом виде.
Обратите внимание, что если размер логического блока
в 8 раз меньше размера сектора диска, это значительно снижает необходимую степень сжатия
Например, блоки размером 8 килобайт на дисках с дисковыми секторами размером 4 килобайта должны быть сжаты
до 1/2
или меньше от их исходного размера.
.It Xo
.Sy context Ns = Ns Sy none Ns | Ns
.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Уровень чувствительности
.Xc
Этот флаг устанавливает контекст SELinux для всех файлов в файловой системе под
точкой монтирования этой файловой системы.
См.
.Xr selinux 8
для получения дополнительной информации.
.It Xo
.Sy fscontext Ns = Ns Sy none Ns | Ns
.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Уровень чувствительности
.Xc
Этот флаг устанавливает контекст SELinux для монтируемой файловой системы.
См.
.Xr selinux 8
для получения дополнительной информации.
.It Xo
.Sy defcontext Ns = Ns Sy none Ns | Ns
.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Уровень чувствительности
.Xc
Этот флаг устанавливает контекст SELinux по умолчанию для немаркированных файлов.
См.
.Xr selinux 8
для получения дополнительной информации.
.It Xo
.Sy rootcontext Ns = Ns Sy none Ns | Ns
.Ar SELinux-User : Ns Ar SELinux-Role : Ns Ar SELinux-Type : Ns Ar Уровень чувствительности
.Xc
Этот флаг устанавливает контекст SELinux для корневого узла файловой системы.
См.
.Xr selinux 8
для получения дополнительной информации.
.It Sy копий Ns = Ns Sy 1 Ns | Ns Sy 2 Ns | Ns Sy 3
Управляет количеством копий данных, хранящихся для этого набора данных.
Эти копии дополняют любую избыточность, обеспечиваемую пулом, например, зеркалирование или RAID-Z.
Копии хранятся на разных дисках, если это возможно.
За место, используемое несколькими копиями, взимается плата с соответствующего файла и набора данных,
изменяя
.Sy used
и учитывается в квотах и резервировании.
.Pp
Изменение этого свойства влияет только на вновь записанные данные.
Поэтому задайте это свойство при создании файловой системы с помощью команды
.Fl o Sy copies Ns = Ns Ar N
опция.
.Pp
Помните, что ZFS не будет импортировать пул с отсутствующим vdev верхнего уровня.
Делайте
.Em NOT
создавать, например, двухдисковый пул с чередованием и задавать
.Sy копии Ns = Ns Ar 2
на некоторые наборы данных, полагая, что вы настроили для них избыточность.
Если один из дисков выйдет из строя, вы не сможете импортировать пул
и потеряете все свои данные.
.Pp
Зашифрованные наборы данных могут не иметь
.Sy копий Ns = Ns Ar 3
поскольку в процессе реализации некоторые метаданные шифрования хранятся там, где обычно находится третья копия.
.It Sy устройства Ns = Ns Sy on Ns | Ns Sy off
Управляет тем, можно ли открывать узлы устройств в этой файловой системе.
По умолчанию используется значение
.Sy on .
Значения
.Sy on
и
.Sy off
эквивалентны значениям
.Sy dev
и
.Sy nodev
опциям монтирования.
.It Xo
.Sy dedup Ns = Ns Sy off Ns | Ns Sy on Ns | Ns Sy verify Ns | Ns
.Sy sha256 Ns Oo , Ns Sy verify Oc Ns | Ns Sy sha512 Ns Oo , Ns Sy verify Oc Ns | Ns Sy skein Ns Oo , Ns Sy verify Oc Ns | Ns
.Sy edonr , Ns Sy verify Ns | Ns Sy blake3 Ns Oo , Ns Sy verify Oc Ns
.Xc
Настраивает дедупликацию для набора данных.
По умолчанию используется значение
.Sy off .
Контрольная сумма дедупликации по умолчанию
.Sy sha256
(в будущем это значение может измениться).
Когда
.Sy dedup
включена, определенная здесь контрольная сумма переопределяет
.Sy контрольная сумма
Установка значения
.Sy verify
имеет тот же эффект, что и установка
.Sy sha256 , Ns Sy verify .
.Pp
Если установлено значение
.Sy verify ,
ZFS будет выполнять сравнение байт за байтом в случае, если два блока имеют одинаковую подпись,
чтобы убедиться, что содержимое блока идентично.
Указание
.Sy verify
является обязательным для
.Sy edonr
алгоритма.
.Pp
Если нет необходимости, дедупликация не должна
.Em не
быть включено в систему.
См.
.Sx Дедупликация 
раздел
.Xr zfsconcepts 7 .
.It Xo
.Sy dnodesize Ns = Ns Sy legacy Ns | Ns Sy auto Ns | Ns Sy 1k Ns | Ns
.Sy 2k Ns | Ns Sy 4k Ns | Ns Sy 8k Ns | Ns Sy 16k
.Xc
Указывает режим совместимости или буквальное значение для размера dnodes в
файловой системе.
По умолчанию используется значение
.Sy legacy .
Установка этого свойства в значение, отличное от
.Sy legacy No, требуется включить функцию Sy large_dnode No pool .
.Pp
Рассмотрите возможность установки
.Sy dnodesize
на
.Sy auto
если в наборе данных используется
.Sy xattr Ns = Ns Sy sa
и рабочая нагрузка активно использует расширенные атрибуты.
Этот
может быть применимо к системам с поддержкой SELinux, серверам Lustre и Samba.
Буквальные значения поддерживаются в случаях, когда оптимальный
размер известен заранее, а также при тестировании производительности.
.Pp
Оставить
.Sy dnodesize
установленным на
.Sy legacy
если вам нужно получить поток отправки этого набора данных на пуле, который не
поддерживает
.Sy large_dnode
или если необходимо импортировать этот пул в систему, которая не поддерживает функцию
.Sy large_dnode Нет функции.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy dnsize .
.It Xo
.Sy encryption Ns = Ns Sy off Ns | Ns Sy on Ns | Ns Sy aes-128-ccm Ns | Ns
.Sy aes-192-ccm Ns | Ns Sy aes-256-ccm Ns | Ns Sy aes-128-gcm Ns | Ns
.Sy aes-192-gcm Ns | Ns Sy aes-256-gcm
.Xc
Определяет набор шифров (блочный шифр, длина ключа и режим), используемый
для этого набора данных.
Требуется
.Sy шифрование 
функция, которая должна быть включена в пуле.
Требуется
.Sy формат ключа 
она устанавливается при создании набора данных.
.Pp
Выбор
.Sy encryption Ns = Ns Sy on
при создании набора данных означает, что будет выбран набор шифрования по умолчанию,
который в настоящее время
.Sy aes-256-gcm .
Чтобы обеспечить последовательную защиту данных, шифрование должно быть задано
при создании набора данных и не может быть изменено впоследствии.
.Pp
Дополнительные сведения и предостережения о шифровании см. в разделе
.Sx Шифрование 
раздел
.Xr zfs-load-key 8 .
.It Sy Формат ключа Ns = Ns Sy raw Ns | Ns Sy hex Ns | Ns Sy passphrase
Определяет, в каком формате будет предоставлен ключ шифрования пользователя.
Это свойство устанавливается только при шифровании набора данных.
.Pp
Сырые ключи и шестнадцатеричные ключи должны иметь длину 32 байта (независимо от выбранного
набора шифрования) и должны быть сгенерированы случайным образом.
Необработанный ключ можно сгенерировать с помощью следующей команды:
.Dl # Nm dd Sy if=/dev/urandom bs=32 count=1 Sy of= Ns Pa /path/to/output/key
.Pp
Пассфразы должны быть длиной от 8 до 512 байт и будут обработаны через
PBKDF2 перед использованием (см.
.Sy pbkdf2iters
свойство).
Несмотря на то что набор шифрования нельзя изменить после создания набора данных,
формат ключа можно изменить с помощью
.Nm zfs Cm change-key .
.It Xo
.Sy keylocation Ns = Ns Sy prompt Ns | Ns Sy file:// Ns Ar /absolute/file/path Ns | Ns Sy https:// Ns Ar address Ns | Ns Sy http:// Ns Ar address
.Xc
Определяет, откуда по умолчанию будет загружаться ключ шифрования пользователя для
таких команд, как
.Nm zfs Cm load-key
и
.Nm zfs Cm mount Fl l .
Это свойство устанавливается только для зашифрованных наборов данных, которые являются корнями шифрования.
Если оно не указано, по умолчанию используется
.Sy prompt .
.Pp
Несмотря на то, что набор шифрования нельзя изменить после создания набора данных, расположение ключа может быть указано либо
.Nm zfs Cm set
или
.Nm zfs Cm change-key .
Если
.Sy prompt
ZFS будет запрашивать ключ в командной строке, если потребуется
для доступа к зашифрованным данным (см.
.Nm zfs Cm load-key
для получения подробной информации).
Эта настройка также позволит передавать ключ через стандартный поток ввода,
но пользователи должны быть осторожны и не передавать ключи, которые должны храниться в секрете, через командную строку.
Если выбран URI файла, ключ будет загружен из
указанного абсолютного пути к файлу.
Если выбран URL-адрес HTTPS или HTTP, он будет получен с помощью функции
.Xr fetch 3 ,
libcurl или ничего, в зависимости от конфигурации во время компиляции и
доступности во время выполнения.
.Sy SSL_CA_CERT_FILE
может быть задана переменная окружения, чтобы установить местоположение
хранилища объединенных сертификатов.
Переменная
.Sy SSL_CA_CERT_PATH
может быть установлена для того, чтобы переопределить расположение
каталога, содержащего пакет центра сертификации.
Переменная
.Sy SSL_CLIENT_CERT_FILE
и
.Sy SSL_CLIENT_KEY_FILE
переменные окружения могут быть установлены для настройки пути
к сертификату клиента и его ключу.
.It Sy pbkdf2iters Ns = Ns Ar iterations
Устанавливает количество итераций PBKDF2, в течение которых будет вычисляться
.Sy ключевая фраза,
она должна быть обработана в ключе шифрования.
Это свойство определено только в том случае, если шифрование включено и формат ключа
.Sy passphrase
выбран.
Цель PBKDF2 - значительно увеличить
вычислительную сложность, необходимую для перебора парольной фразы пользователя.
Это достигается за счет того, что злоумышленник вынужден прогонять каждую ключевую фразу через
хэширующую функцию много раз, прежде чем он получит
ключ.
Пользователю, который действительно знает ключевую фразу, придется заплатить за это только один раз.
По мере того как процессоры будут совершенствоваться в обработке данных, это число следует
увеличивать, чтобы гарантировать, что атака методом перебора по-прежнему невозможна.
Текущее значение по умолчанию
.Sy 350000
а минимальное значение
.Sy 100000.
Это свойство можно изменить с помощью команды
.Nm zfs Cm change-key .
.It Sy exec Ns = Ns Sy on Ns | Ns Sy off
Контролирует возможность выполнения процессов из данной файловой системы.
Значение по умолчанию
.Sy on .
Значения
.Sy on
и
.Sy off
эквивалентны
.Sy exec
и
.Sy noexec
опции монтирования.
.It Sy filesystem_limit Ns = Ns Ar count Ns | Ns Sy none
Ограничивает количество файловых систем и томов, которые могут существовать в данной точке
дереве набора данных.
Ограничение не применяется, если пользователю разрешено его изменять.
Установка
.Sy filesystem_limit
на
.Sy на
потомка файловой системы, у которой уже есть
.Sy filesystem_limit
не отменяет ограничение предка
.Sy filesystem_limit ,
а скорее накладывает дополнительное ограничение.
Для использования эта функция должна быть включена
.Po см.
.Xr zpool-features 7
.Pc .
.It Sy special_small_blocks Ns = Ns Ar size
Это значение представляет собой пороговый размер блока для включения маленьких файловых
блоков в специальный класс распределения.
Блоки, размер которых меньше или равен этому,
будут отнесены к специальному классу распределения, в то время как блоки большего размера
будут отнесены к обычному классу.
Допустимые значения - ноль или степень двойки от 512 до 1048576 (1 МБ).
По умолчанию значение равно 0, что означает, что маленькие блоки файлов
не будут выделяться в специальном классе.
.Pp
Перед установкой этого свойства необходимо добавить vdev специальный класс в пул.
См.
.Xr zpoolconcepts 7
для получения подробной информации о специальном классе распределения.
.It Sy точка монтирования Ns = Ns Pa путь Ns | Ns Sy нет Ns | Ns Sy наследие
Управляет точкой монтирования, используемой для данной файловой системы.
См.
.Sx Точки монтирования 
раздел
.Xr zfsconcepts 7
для получения дополнительной информации об использовании этого свойства.
.Pp
При выборе точки монтирования
.Sy точка монтирования
свойство изменяется для файловой системы, файловая система и все дочерние элементы, которые
наследуют эту точку монтирования, размонтируются.
Если новое значение
.Sy legacy ,
то они остаются немонтированными.
В противном случае они автоматически монтируются в новом месте, если свойство
ранее было
.Sy legacy
или
.Sy none .
Кроме того, все разделяемые файловые системы снимаются с общего доступа и разделяются в новом
местоположении.
.Pp
Когда
.Sy точка монтирования 
установлено с помощью
.Nm zfs Cm set Fl u
, то
.Sy mountpoint
обновляется, но набор данных не монтируется и не размонтируется, а остается
как и раньше.
.It Sy nbmand Ns = Ns Sy on Ns | Ns Sy off
Контролирует, следует ли монтировать файловую систему со свойством
.Sy nbmand
.Pq Неблокирующие обязательные блокировки .
Изменения этого свойства вступают в силу только при размонтировании и
повторном монтировании.
Это свойство поддерживалось только в Linux до версии 5.15, и в нем были ошибки,
и не используется в
.Fx .
В Solaris это используется для клиентов SMB.
.It Sy overlay Ns = Ns Sy on Ns | Ns Sy off
Разрешает монтирование в занятый каталог или каталог, в котором уже содержатся
файлы или каталоги.
Это поведение монтирования по умолчанию для Linux и
.Fx
файловых систем.
На этих платформах свойство
.Sy on
по умолчанию.
Установите значение
.Sy off
чтобы отключить оверлейное монтирование для согласованности с OpenZFS на других платформах.
.It Sy primarycache Ns = Ns Sy all Ns | Ns Sy none Ns | Ns Sy metadata
Управляет тем, что будет кэшироваться в первичном кэше.
.Pq ARC .
Если для этого свойства установлено значение
.Sy all ,
то кэшируются как пользовательские данные, так и метаданные.
Если для этого свойства установлено значение
.Sy none ,
то ни пользовательские данные, ни метаданные не кэшируются.
Если для этого свойства установлено значение
.Sy metadata ,
то кэшируются только метаданные.
По умолчанию используется значение
.Sy все .
.It Sy quota Ns = Ns Ar size Ns | Ns Sy none
Ограничивает объем пространства, который может занимать набор данных и его дочерние элементы.
Это свойство устанавливает жесткое ограничение на объем используемого пространства.
Сюда входит все пространство, занимаемое дочерними элементами, включая файловые системы и
моментальные снимки.
Установка лимита для дочернего набора данных, который уже имеет лимит, не
отменяет лимит предка, а скорее накладывает дополнительный лимит.
.Pp
Лимиты не могут быть установлены на томах, так как для томов используется параметр
.Sy volsize
который действует как неявный лимит.
.It Sy snapshot_limit Ns = Ns Ar count Ns | Ns Sy none
Ограничивает количество моментальных снимков, которые могут быть созданы для набора данных и его
дочерних эдементов.
Установка
.Sy snapshot_limit
для дочернего набора данных, для которого уже установлено ограничение
.Sy snapshot_limit
не отменяет значение
.Sy snapshot_limit ,
а скорее накладывает дополнительное ограничение.
Ограничение не применяется, если пользователю разрешено его изменять.
Например, это означает, что рекурсивные снимки, сделанные из глобальной зоны, будут
учитываются для каждого делегированного набора данных в зоне.
Для использования эта функция должна быть включена.
.Po см.
.Xr zpool-features 7
.Pc .
.It Sy userquota@ Ns Ar user Ns = Ns Ar size Ns | Ns Sy none
Ограничивает объем пространства, потребляемого указанным пользователем.
Потребляемое пользователем пространство идентифицируется параметром
.Sy userspace@ Ns Ar user
.Pp
Применение лимитов для пользователей может быть отложено на несколько секунд.
Эта задержка означает, что пользователь может превысить свой лимит до того, как система заметит
что лимит превышен, и начнет отказывать в дополнительной записи с помощью команды
.Er EDQUOT
сообщением об ошибке.
См.
.Nm zfs Cm userspace
для получения дополнительной информации.
.Pp
Непривилегированные пользователи могут получить доступ к использованию пространства только для своих групп.
Пользователь root или пользователь, которому предоставлено право
.Sy userquota
привилегия с
.Nm zfs Cm allow ,
может получать и устанавливать лимиты для всех пользователей.
.Pp
Это свойство недоступно для томов, файловых систем до версии 4 или
на пулах до версии 15.
Адрес
.Sy userquota@ Ns Ar ...
не отображается с помощью
.Nm zfs Cm get Sy all .
Имя пользователя должно быть добавлено после
.Sy @
с использованием одной из следующих форм:
.Bl -bullet -compact -offset 4n
.It
POSIX-имя
.Pq Qq joe
.It
Цифровой идентификатор POSIX
.Pq Qq 789
.It
имя SID
.Pq Qq joe.smith@mydomain
.It
Цифровой идентификатор SID
.Pq Qq S-1-123-456-789
.El
.Pp
Файлы, созданные в Linux, всегда имеют владельцев POSIX.
.It Sy userobjquota@ Ns Ar user Ns = Ns Ar size Ns | Ns Sy none
Адрес
.Sy userobjquota
аналогична
.Sy userquota
но она ограничивает количество объектов, которые может создать пользователь.
Пожалуйста, обратитесь к
.Sy userobjused
для получения дополнительной информации о том, как подсчитываются объекты.
.It Sy groupquota@ Ns Ar group Ns = Ns Ar size Ns | Ns Sy none
Ограничивает объем пространства, занимаемого указанной группой.
Потребляемое группой пространство идентифицируется параметром
.Sy groupused@ Ns Ar group
.Pp
Непривилегированные пользователи могут получить доступ к использованию пространства только своих групп.
Пользователь root или пользователь, которому предоставлено право
.Sy groupquota
с помощью
.Nm zfs Cm allow ,
может получать и устанавливать лимиты для всех групп.
.It Sy groupobjquota@ Ns Ar группа Ns = Ns Ar размер Ns | Ns Sy none
Адрес
.Sy groupobjquota
аналогична
.Sy groupquota
но она ограничивает количество объектов, которые может потреблять группа.
Пожалуйста, обратитесь к
.Sy userobjused

для получения дополнительной информации о том, как подсчитываются объекты.
.It Sy projectquota@ Ns Ar project Ns = Ns Ar size Ns | Ns Sy none
Ограничивает объем пространства, занимаемого указанным проектом.
Потребляемое проектом пространство определяется параметром
.Sy projectused@ Ns Ar project
См.
.Sy projectused
для получения дополнительной информации о том, как определяется и устанавливается/изменяется проект.
.Pp
Пользователь root или пользователь, которому предоставлена
.Sy projectquota
привилегия с помощью
.Nm zfs allow ,
может получить доступ к лимитам всех проектов.
.It Sy projectobjquota@ Ns Ar project Ns = Ns Ar size Ns | Ns Sy none
.Sy projectobjquota
аналогичен
.Sy projectquota
но ограничивает количество объектов, которые может потреблять проект.
Пожалуйста, обратитесь к
.Sy userobjused
для получения дополнительной информации о том, как подсчитываются объекты.
.It Sy readonly Ns = Ns Sy on Ns | Ns Sy off
Определяет, можно ли изменять этот набор данных.
По умолчанию используется значение
.Sy off .
Значения
.Sy on
и
.Sy off
эквивалентны значениям
.Sy ro
и
.Sy rw
опции монтирования.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy rdonly .
.It Sy recordsize Ns = Ns Ar size
Указывает предлагаемый размер блока для файлов в файловой системе.
Это свойство предназначено исключительно для использования в рабочих нагрузках баз данных, которые обращаются к
файлам в виде записей фиксированного размера.
ZFS автоматически настраивает размеры блоков в соответствии с внутренними алгоритмами, оптимизированными
для типичных моделей доступа.
.Pp
Для баз данных, которые создают очень большие файлы, но обращаются к ним небольшими случайными
эти алгоритмы могут быть неоптимальными.
Указание размера записи
.Sy,
превышающего или равного размеру записи базы данных, может привести к
значительному повышению производительности.
Использовать это свойство для файловых систем общего назначения категорически не рекомендуется,
поскольку это может негативно сказаться на производительности.
.Pp
Указанный размер должен быть в степени два больше или равен
.Ar 512 B
и меньше или равен
.Ar 128 KiB .
Если
.Sy large_blocks
включена функция пула, размер может достигать
.Ar 1 MiB .
См.
.Xr zpool-features 7
для получения подробной информации о флагах функций ZFS.
.Pp
Изменение размера файловой системы
.Sy recordsize
влияет только на файлы, созданные после этого; существующие файлы не затрагиваются.
.Pp
На это свойство можно также ссылаться по сокращенному имени столбца,
.Sy recsize .
.It Sy redundant_metadata Ns = Ns Sy all Ns | Ns Sy most Ns | Ns Sy some Ns | Ns Sy none
Управляет тем, какие типы метаданных будут храниться с избытком.
ZFS хранит дополнительную копию метаданных, так что если один блок поврежден,
объем потерянных пользовательских данных был ограничен.
Эта дополнительная копия дополняет избыточность, обеспечиваемую на уровне пула.
.Pq, например, зеркалированием или RAID-Z,
и является дополнением к резервной копии, заданной параметром
.Sy копии
.Pq до 3 копий в общей сложности.
Например, если пул зеркалирован,
.Sy копий Ns = Ns 2 ,
и
.Sy избыточные_метаданные Ns = Ns Sy большинство ,
то ZFS хранит 6 копий большинства метаданных и 4 копии данных и некоторых метаданных.
.Pp
Если установлено значение
.Sy all ,
ZFS хранит дополнительную копию всех метаданных.
Если поврежден один блок на диске, то в худшем случае будет поврежден один блок пользовательских данных
.Po, который равен
.Sy размеру записи в
байтах
.Pp
Когда установлено значение
.Sy большинство ,
ZFS сохраняет дополнительную копию большинства типов метаданных.
Это может повысить производительность случайной записи, так как необходимо записывать меньше метаданных.
На практике в худшем случае около 1000 блоков
.Po из
.Sy размера записи
пользовательских данных может быть потеряно при повреждении одного блока на диске.
Точное поведение блоков метаданных, которые хранятся с избытком, может измениться в
будущих версиях.
.Pp
Когда установлено значение
.Sy некоторые ,
ZFS хранит дополнительную копию только критических метаданных.
Это может повысить производительность создания файлов, поскольку меньше метаданных
необходимо записывать.
Если один блок на диске поврежден, в худшем случае может быть потерян один пользовательский файл.
.Pp
Если установлено значение
.Sy нет ,
ZFS не хранит никаких копий метаданных с избыточностью.
Если поврежден один блок на диске, может быть потерян весь набор данных.
.Pp
По умолчанию установлено значение
.Sy все .
.It Sy refquota Ns = Ns Ar size Ns | Ns Sy none
Ограничивает объем пространства, которое может занимать набор данных.
Это свойство устанавливает жесткое ограничение на объем используемого пространства.
Это жесткое ограничение не включает пространство, используемое дочерними элементами, включая файловые системы и снимки.
.It Sy refreservation Ns = Ns Ar size Ns | Ns Sy none Ns | Ns Sy auto
Минимальный объем пространства, гарантированный набору данных, не включая его
дочерних элементов.
Если объем используемого пространства меньше этого значения, набор данных рассматривается так, как будто
он занимает объем пространства, указанный в
он занимает объем пространства, указанный в
.Sy refreservation .
.Sy refreservation
резервирование учитывается в используемом пространстве родительских наборов данных и засчитывается
в счет лимитов и резервирования родительских наборов данных.
.Pp
Если
.Sy refreservation
установлен, снимок разрешается только в том случае, если за пределами этого резервирования достаточно свободного места в пуле для размещения текущего количества данных.
за пределами этого резервирования, чтобы вместить текущее количество
.Qq ссылающихся на 
байт в наборе данных.
.Pp
Если
.Sy refreservation
установлено значение
.Sy auto ,
том имеет большую толщину резервирования
.Po или
.Qq не редкий
.Pc .
.Sy сохранение Ns = Ns Sy auto
поддерживается только для томов.
См.
.Sy volsize
в разделе
.Sx Нативные свойства 
для получения дополнительной информации о разреженных томах.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy refreserv .
.It Sy relatime Ns = Ns Sy on Ns | Ns Sy off
Управляет способом обновления времени доступа, когда
.Sy atime Ns = Ns Sy on
установлено.
При включении этого свойства время доступа обновляется 
относительно времени модификации или изменения.
Время доступа обновляется только в том случае, если предыдущее
время доступа было раньше, чем текущее время изменения или модификации, или если
существующее время доступа не обновлялось в течение последних 24 часов.
Значение по умолчанию
.Sy on .
Значения
.Sy on
и
.Sy off
эквивалентны
.Sy relatime
и
.Sy norelatime
опции монтирования.
.It Sy reservation Ns = Ns Ar size Ns | Ns Sy none
Минимальный объем пространства, гарантированный набору данных и его потомкам.
Если объем используемого пространства ниже этого значения, набор данных рассматривается так, как если бы
он занимал место, указанное в его резервировании.
Резервирование учитывается в используемом пространстве родительских наборов данных и засчитывается
в счет лимитов и резервирования родительских наборов данных.
.Pp
На это свойство также можно ссылаться по сокращенному имени столбца,
.Sy reserv .
.It Sy secondarycache Ns = Ns Sy all Ns | Ns Sy none Ns | Ns Sy metadata
Управляет тем, что кэшируется во вторичном кэше.
.Pq L2ARC .
Если для этого свойства установлено значение
.Sy all ,
то кэшируются как пользовательские данные, так и метаданные.
Если для этого свойства установлено значение
.Sy none ,
то ни пользовательские данные, ни метаданные не кэшируются.
Если для этого свойства установлено значение
.Sy metadata ,
то кэшируются только метаданные.
По умолчанию используется значение
.Sy all .
.It Sy setuid Ns = Ns Sy on Ns | Ns Sy off
Устанавливает, будет ли соблюдаться бит setuid для файловой системы.
Значение по умолчанию
.Sy on .
Значения
.Sy on
и
.Sy off
эквивалентны значениям
.Sy suid
и
.Sy nosuid
опции монтирования.
.It Sy sharesmb Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Ar opts
Управляет совместным использованием файловой системы с помощью
.Sy Samba USERSHARES
и какие опции должны быть использованы.
В противном случае файловая система автоматически разделяется и не разделяется с помощью параметра
.Nm zfs Cm share
и
.Nm zfs Cm unshare
командами.
Если свойство установлено в значение on, то в файловой системе
.Xr net 8
вызывается команда для создания
.Sy USERSHARE .
.Pp
Поскольку для общих ресурсов SMB требуется имя ресурса, уникальное имя ресурса
создается из имени набора данных.
Созданное имя является копией
имени набора данных, за исключением того, что символы в имени набора данных, которые были бы
недействительные в имени ресурса, заменяются символами подчеркивания (_).
Linux в настоящее время не поддерживает дополнительные опции, которые могут быть доступны
в Solaris.
.Pp
Если в файле
.Sy sharesmb
установлено значение
.Sy off ,
файловые системы не разделяются.
.Pp
Общий ресурс создается с ACL (список контроля доступа) "Everyone:F" ("F"
означает "полные разрешения", т. е. разрешения на чтение и запись) и без гостевого
доступа (это означает, что Samba должна быть способна аутентифицировать реального пользователя \(em
.Xr passwd 5 Ns / Ns Xr shadow 5 Ns - ,
LDAP- или
.Xr smbpasswd 5 Ns -based )
по умолчанию.
Это означает, что любой дополнительный контроль доступа
(запрет доступа конкретного пользователя и т. д.) должен осуществляться на базовой файловой системе.
.Pp
Когда
.Sy sharesmb
обновляется с помощью
.Nm zfs Cm set Fl u
свойство устанавливается в нужное значение, но операция совместного использования, повторного использования
или отмены совместного доступа к набору данных не выполняется.
.It Sy sharenfs Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Ar opts
Определяет, будет ли файловая система совместно использоваться через NFS, и какие опции должны быть при этом использованы.
Файловая система с опцией
.Sy sharenfs
и свойством
.Sy off
обрабатывается с помощью
.Xr exportfs 8
и записями в файле
.Pa /etc/exports
В противном случае файловая система автоматически разделяется с помощью команды
.Nm zfs Cm share
и
.Nm zfs Cm unshare
командами.
Если для свойства установлено значение
.Sy on ,
набор данных разделяется с использованием параметров по умолчанию:
.Dl sec=sys,rw,crossmnt,no_subtree_check
.Pp
Обратите внимание, что опции разделены запятыми, в отличие от опций в
.Xr exports 5 .
Это сделано для того, чтобы исключить необходимость в кавычках, а также для того, чтобы облегчить разбор
с помощью скриптов.
.Pp
См.
.Xr exports 5
о значении параметров по умолчанию.
В противном случае следует использовать
.Xr exportfs 8
вызывается команда с параметрами, эквивалентными содержимому этого свойства.
.Pp
При выполнении команды
.Sy sharenfs
при изменении свойства для набора данных, набор данных и все дочерние элементы, наследующие это
свойство, повторно используются с новыми параметрами, только если это свойство было ранее изменено
.Sy off ,
или если они были совместно использованы до изменения свойства.
Если новое свойство
.Sy off ,
файловые системы не разделяются.
.Pp
При изменении свойства
.Sy sharenfs
обновляется с помощью
.Nm zfs Cm set Fl u
свойство устанавливается в нужное значение, но операция совместного использования, повторного использования
или отмены совместного доступа к набору данных не выполняется.
.It Sy logbias Ns = Ns Sy latency Ns | Ns Sy throughput
Предоставляет подсказку ZFS об обработке синхронных запросов в этом наборе данных.
Если
.Sy logbias
установлено значение
.Sy latency
.Pq по умолчанию,
ZFS будет использовать устройства регистрации пула
.Pq, если они настроены
для обработки запросов с низкой задержкой.
Если
.Sy logbias
установлен на
.Sy throughput ,
ZFS не будет использовать настроенные устройства журнала пула.
Вместо этого ZFS будет оптимизировать синхронные операции для глобальной пропускной способности пула и
эффективного использования ресурсов.
.It Sy snapdev Ns = Ns Sy hidden Ns | Ns Sy visible
Контролирует, будут ли устройства моментальных снимков тома в каталоге
.Pa /dev/zvol/ Ns Aq Ar pool
скрыты или видимы.
По умолчанию используется значение
.Sy скрыто .
.It Sy snapdir Ns = Ns Sy hidden Ns | Ns Sy visible
Определяет, будет ли
.Pa .zfs
скрыт или виден каталог в корне файловой системы, как обсуждалось в
в разделе
.Sx Снимки 
в разделе
.Xr zfsconcepts 7 .
По умолчанию используется значение
.Sy скрыто .
.It Sy sync Ns = Ns Sy standard Ns | Ns Sy always Ns | Ns Sy disabled
Управляет поведением синхронных запросов
.Pq например, fsync, O_DSYNC .
.Sy standard
это определенное POSIX поведение, обеспечивающее, чтобы все синхронные запросы
записываются в стабильное хранилище, а все устройства промываются, чтобы гарантировать
данные не кэшируются контроллерами устройств.
.Pq - это значение по умолчанию .
.Sy всегда
приводит к тому, что каждая транзакция файловой системы записывается и сбрасывается перед возвращением ее
системного вызова.
Это приводит к большим потерям производительности.
.Sy disabled
отключает синхронные запросы.
Транзакции файловой системы фиксируются в стабильном хранилище только периодически.
Эта опция обеспечивает максимальную производительность.
Однако это очень опасно, поскольку ZFS будет игнорировать синхронные
транзакций таких приложений, как базы данных или NFS.
Администраторы должны использовать эту опцию только в том случае, если понимают все риски.
.It Sy версия Ns = Ns Ar N Ns | Ns Sy current
Версия файловой системы на диске, которая не зависит от пула.
Это свойство может быть установлено только на более поздние поддерживаемые версии.
См.
.Nm zfs Cm upgrade
команда.
.It Sy volsize Ns = Ns Ar size
Для томов задает логический размер тома.
По умолчанию при создании тома создается резервирование равного размера.
Для пулов хранения с номером версии 9 или выше используется значение
.Sy refreservation
устанавливается вместо этого.
Любые изменения
.Sy volsize
отражаются в эквивалентном изменении резервирования
.Pq или Sy refreservation.
Адрес
.Sy volsize
может быть установлен только кратным
.Sy volblocksize ,
и не может быть нулевым.
.Pp
Резервирование поддерживается равным логическому размеру тома, чтобы предотвратить неожиданное
неожиданного поведения потребителей.
Без резервирования на томе может закончиться место, что приведет к
неопределенному поведению или повреждению данных, в зависимости от того, как используется том.
Такие эффекты могут также возникать при изменении размера тома во время его использования
.Pq особенно при уменьшении размера.
При изменении размера тома следует соблюдать особую осторожность.
.Pp
Хотя это и не рекомендуется, но
.Qq редкий том 
.Po также известен как
.Qq thin provisioned
.Pc
можно создать, указав параметр
.Fl s
в опции
.Nm zfs Cm create Fl V
или изменив значение параметра
.Sy refreservation
свойства
.Po или
.Sy резервирование
в пуле версии 8 или более ранней версии
.Pc
после создания тома.
A
.Qq редкий том 
это том, в котором значение
.Sy refreservation
меньше, чем размер тома плюс пространство, необходимое для хранения его
метаданных.
Следовательно, запись в разреженный том может завершиться неудачей с ошибкой
.Er ENOSPC
когда в пуле не хватает места.
Для редкого тома изменения
.Sy volsize
не отражаются в
.Sy refreservation .
Том, который не является редким, считается
.Qq thick provisioned .
Редкий том может стать толстопрофильным, если установить
.Sy refreservation
на
.Sy auto.
.It Sy volmode Ns = Ns Sy default Ns | Ns Sy full Ns | Ns Sy geom Ns | Ns Sy dev Ns | Ns Sy none
Это свойство определяет, как тома должны быть открыты для ОС.
Установив значение
.Sy full
открывает тома как полноценные блочные устройства, обеспечивая максимальную
функциональность.
Значение
.Sy geom
это просто псевдоним для
.Sy full
и сохраняется для совместимости.
Установка значения
.Sy dev
скрывает его разделы.
Тома, для которых установлено свойство
.Sy none
не открыты за пределами ZFS, но могут быть сфотографированы, клонированы, реплицированы и т. д,
что может быть полезно для резервного копирования.
Значение
.Sy по умолчанию
означает, что раскрытие томов контролируется общесистемным настраиваемым параметром
.Sy zvol_volmode ,
где
.Sy full ,
.Sy dev
и
.Sy none
кодируются как 1, 2 и 3 соответственно.
По умолчанию используется значение
.Sy full .
.It Sy vscan Ns = Ns Sy on Ns | Ns Sy off
Устанавливает, следует ли проверять обычные файлы на наличие вирусов при
открытии и закрытии файла.
В дополнение к включению этого свойства, служба проверки на вирусы также должна быть включена
чтобы служба проверки на вирусы была включена.
Значение по умолчанию
.Sy off .
Это свойство не используется OpenZFS.
.It Sy xattr Ns = Ns Sy on Ns | Ns Sy off Ns | Ns Sy sa
Управляет тем, включены ли расширенные атрибуты для данной файловой системы.
Поддерживаются два стиля расширенных атрибутов: на основе каталога
либо на основе каталога, либо на основе системных атрибутов.
.Pp
Значение по умолчанию
.Sy on
включает расширенные атрибуты на основе каталога.
Этот стиль расширенных атрибутов не накладывает никаких практических ограничений
ни на размер, ни на количество атрибутов, которые можно установить для файла.
Хотя в Linux
.Xr getxattr 2
и
.Xr setxattr 2
системные вызовы ограничивают максимальный размер до
.Sy 64K .
Это наиболее совместимый
стиль расширенного атрибута и поддерживается всеми реализациями ZFS.
.Pp
Системные атрибуты xattrs можно включить, установив значение
.Sy sa .
Основным преимуществом этого типа xattr является повышенная производительность.
Хранение расширенных атрибутов в качестве системных атрибутов
значительно уменьшает объем требуемого дискового ввода-вывода.
До
.Sy 64K
данных может храниться в каждом файле в пространстве, отведенном для системных атрибутов.
Если для расширенного атрибута не хватает места
то он будет автоматически записан как xattr, основанный на директории.
Расширенные атрибуты, основанные на системных атрибутах, недоступны
на платформах, которые не поддерживают
.Sy xattr Ns = Ns Sy sa
функцию.
OpenZFS поддерживает
.Sy xattr Ns = Ns Sy sa
на обоих
.Fx
и в Linux.
.Pp
Использование xattrs, основанных на системных атрибутах, настоятельно рекомендуется для пользователей
SELinux или POSIX ACLs.
Обе эти функции в значительной степени опираются на расширенные
атрибутов и значительно выигрывают от сокращения времени доступа.
.Pp
Значения
.Sy на
и
.Sy off
эквивалентны
.Sy xattr
и
.Sy noxattr
опции монтирования.
.It Sy jailed Ns = Ns Sy off Ns | Ns Sy on
Контролирует, будет ли набор данных управляться из тюрьмы.
См.
.Xr zfs-jail 8
для получения дополнительной информации.
Тюрьмы представляют собой
.Fx
и это свойство недоступно на других платформах.
.It Sy zoned Ns = Ns Sy off Ns | Ns Sy on
Контролирует, управляется ли набор данных из неглобальной зоны или пространства имен.
См.
.Xr zfs-zone 8
для получения дополнительной информации.
Зонирование - это
Linux
и это свойство недоступно на других платформах.
.El
.Pp
Следующие три свойства не могут быть изменены после создания файловой системы
и поэтому должны быть установлены при создании файловой системы.
Если эти свойства не заданы с помощью команды
.Nm zfs Cm create
или
.Nm zpool Cm create
эти свойства наследуются от родительского набора данных.
Если родительский набор данных не имеет этих свойств, поскольку был создан до того, как
поддержки этих свойств, новая файловая система будет иметь значения по умолчанию
для этих свойств.
.Bl -tag -width ""
.It Xo
.Sy caseensensitivity Ns = Ns Sy sensitive Ns | Ns
.Sy нечувствительный Ns | Ns Sy смешанный
.Xc
Указывает, должен ли алгоритм сопоставления имен файлов, используемый файловой системой
должен быть чувствительным к регистру, нечувствительным к регистру или допускать комбинацию обоих
стилей сопоставления.
Значение по умолчанию для параметра
.Sy чувствительность к регистру
является
.Sy sensitive .
Традиционно,
.Ux
и файловые системы POSIX имеют имена файлов, чувствительные к регистру.
.Pp
.Sy смешанный
значение для 
.Sy чувствительность к регистру
указывает, что файловая система может поддерживать запросы как на
чувствительного к регистру и нечувствительного к регистру поведения сопоставления.
В настоящее время поведение сопоставления без учета регистра в файловой системе, поддерживающей
смешанное поведение, ограничено продуктом SMB-сервера.
Для получения дополнительной информации о
смешанное
см. в разделе "Администрирование ZFS".
.It Xo
.Sy нормализация Ns = Ns Sy none Ns | Ns Sy formC Ns | Ns
.Sy formD Ns | Ns Sy formKC Ns | Ns Sy formKD
.Xc
Указывает, должна ли файловая система выполнять
.Sy юникод 
нормализацию имен файлов при сравнении двух имен файлов, и какой
алгоритм нормализации должен быть использован.
Имена файлов всегда хранятся без изменений, имена нормализуются в рамках любого
процесса сравнения.
Если для этого свойства задано значение, отличное от
.Sy none ,
и
.Sy utf8only
было оставлено неуказанным, то
.Sy utf8only
автоматически устанавливается значение
.Sy on .
Значение по умолчанию
.Sy нормализация 
является
.Sy none .
Это свойство не может быть изменено после создания файловой системы.
.It Sy utf8only Ns = Ns Sy on Ns | Ns Sy off
Указывает, должна ли файловая система отклонять имена файлов, включающие
символы, которые отсутствуют в
.Sy UTF-8
кодовом наборе символов.
Если для этого свойства явно задано значение
.Sy off ,
то свойство нормализации должно быть либо не задано, либо задано как
.Sy none .
Значение по умолчанию для параметра
.Sy utf8only
является
.Sy off .
Это свойство нельзя изменить после создания файловой системы.
.El
.Pp
Адрес
.Sy чувствительность к случаям ,
.Sy нормализация ,
и
.Sy utf8only
также являются новыми разрешениями, которые могут быть назначены непривилегированным пользователям
с помощью функции делегированного администрирования ZFS.
.
.Ss Свойства  временной точки монтирования
Когда файловая система монтируется либо через
.Xr mount 8
для традиционного монтирования или
.Nm zfs Cm mount
команда для обычных файловых систем, параметры монтирования устанавливаются в соответствии с ее
свойствами.
Взаимосвязь между свойствами и параметрами монтирования выглядит следующим образом:
.Bl -tag -compact -offset Ds -width "rootcontext="
.It Sy atime
atime/noatime
.It Sy canmount
auto/noauto
.It Sy устройства
dev/nodev
.It Sy exec
exec/noexec
.It Sy readonly
ro/rw
.It Sy relatime
relatime/norelatime
.It Sy setuid
suid/nosuid
.It Sy xattr
xattr/noxattr
.It Sy nbmand
мандат/номанда
.It Sy context Ns =
контекст=
.It Sy fscontext Ns =
fscontext=
.It Sy defcontext Ns =
defcontext=
.It Sy rootcontext Ns =
rootcontext=
.El
.Pp
Кроме того, эти параметры можно задать для каждого монтируемого объекта с помощью параметра
.Fl o
не влияя на свойства, хранящиеся на диске.
Значения, указанные в командной строке, отменяют значения, хранящиеся в
наборе данных.
Опция
.Sy nosuid
является псевдонимом для
.Sy nodevices , Ns Sy nosetuid .
Эти свойства сообщаются как
.Qq временный
при
.Nm zfs Cm get
Если свойства изменены во время монтирования набора данных, новые настройки
отменяет все временные настройки.
.
.Ss Пользовательские свойства 
В дополнение к стандартным собственным свойствам ZFS поддерживает произвольные пользовательские
свойства.
Пользовательские свойства не влияют на поведение ZFS, но приложения или администраторы могут использовать их для аннотирования наборов данных.
.Pq файловых систем, томов и моментальных снимков .
.Pp
Имена пользовательских свойств должны содержать двоеточие
.Pq Qq Sy \&:
чтобы отличать их от собственных свойств.
Они могут содержать строчные буквы, цифры и следующие знаки препинания
знаки: двоеточие
.Pq Qq Sy \&: ,
тире
.Pq Qq Sy - ,
точка
.Pq Qq Sy \&. ,
и знак подчеркивания
.Pq Qq Sy _ .
Предполагается, что имя свойства делится на две части
например
.Ar модуль : Ns Ar свойство ,
но это пространство имен не поддерживается ZFS.
Имена пользовательских свойств могут состоять не более чем из 256 символов и не могут начинаться с тире
.Pq Qq Sy - .
.Pp
При программном использовании пользовательских свойств настоятельно рекомендуется использовать
обратное доменное имя DNS для
.Ar модуль 
чтобы уменьшить вероятность того, что два
независимо разработанные пакеты используют одно и то же имя свойства для разных
целей.
.Pp
Значения пользовательских свойств представляют собой произвольные строки, всегда наследуются и
никогда не проверяются.
Все команды, работающие со свойствами
.Po Nm zfs Cm list ,
.Nm zfs Cm get ,
.Nm zfs Cm set ,
и т. д.
.Pc
можно использовать для работы как с собственными свойствами, так и со свойствами пользователя.
Используйте
.Nm zfs Cm inherit
чтобы очистить пользовательское свойство.
Если свойство не определено ни в одном из родительских наборов данных, оно удаляется полностью.
Значения свойств ограничены 8192 байтами.
